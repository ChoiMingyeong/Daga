@page "/login"
@attribute [AllowAnonymous]

@if(null != AuthService.Account)
{
    NavigationManager.NavigateTo("");
}

<MudContainer>
    <MudButton Variant="Variant.Filled" OnClick="OnLoginButtonClicked">Login</MudButton>
    <MudButton Variant="Variant.Filled" OnClick="OnGoToSignupPageButtonClicked">Signup</MudButton>
</MudContainer>

@code
{
    DagaCommon.Models.LoginModel loginData = new()
        {
            Email = "test@example.com",
            Password = "1234",
        };

    private async Task OnLoginButtonClicked()
    {
        if (true == await AuthService.LoginAsync(loginData))
        {
            NavigationManager.NavigateTo("", forceLoad: true);
        }
        else
        {
            await InvokeAsync(StateHasChanged);
        }
    }

    private void OnGoToSignupPageButtonClicked()
    {
        NavigationManager.NavigateTo("signup");
    }
}