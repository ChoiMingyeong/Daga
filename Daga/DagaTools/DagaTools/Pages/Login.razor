@page "/login"
@attribute [AllowAnonymous]

<MudContainer>
    <MudButton Variant="Variant.Filled" OnClick="OnLoginButtonClicked">Login</MudButton>
    <MudButton Variant="Variant.Filled" OnClick="@(()=>NavigationManager.NavigateTo("signup"))">Signup</MudButton>
</MudContainer>

@code
{
    DagaCommon.Models.LoginModel loginData = new()
        {
            Email = "test@example.com",
            Password = "1234",
        };

    private async Task OnLoginButtonClicked()
    {
        if (null == await AuthService.LoginAsync(loginData))
        {
            await InvokeAsync(StateHasChanged);
        }
        else
        {
            NavigationManager.NavigateTo("", forceLoad: true);
        }
    }
}